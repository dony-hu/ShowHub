# ShowHub 互联网部署指南

项目已成功构建，生产文件位于 `dist/` 目录。以下是部署到互联网的几种方案：

## 方案一：GitHub Pages（免费，推荐用于演示）

### 步骤：
1. **创建 GitHub 仓库**
   ```bash
   git init
   git add .
   git commit -m "Initial commit"
   git branch -M main
   git remote add origin https://github.com/your-username/ShowHub.git
   git push -u origin main
   ```

2. **启用 GitHub Pages**
   - 进入仓库 Settings → Pages
   - Source 选择 "Deploy from a branch"
   - Branch 选择 `main` 和 `/root`
   - 或者在 `vite.config.ts` 中添加 base 配置

3. **访问**
   ```
   https://your-username.github.io/ShowHub
   ```

---

## 方案二：Vercel（推荐，自动 CI/CD）

### 步骤：
1. **安装 Vercel CLI**
   ```bash
   npm install -g vercel
   ```

2. **部署**
   ```bash
   vercel
   ```
   按照提示登录和配置

3. **访问**
   ```
   https://showhub.vercel.app
   ```

### 必备：环境变量（Vite 前端）

Vite 只会把以 `VITE_` 开头的环境变量注入到前端构建产物中。请在 Vercel 的 Project → Settings → Environment Variables 中配置：

- `VITE_SUPABASE_URL` → 你的 Supabase Project URL（例如：https://xyzcompany.supabase.co）
- `VITE_SUPABASE_ANON_KEY` → 你的 Supabase anon 公钥

建议在 All Environments（Production/Preview/Development）都设置上述变量。设置后需要重新部署一次。

**优点：**
- 自动 CI/CD 部署
- 全球 CDN 加速
- 支持自定义域名
- 免费额度充足

---

## 方案三：Netlify（推荐）

### 步骤：
1. **连接 GitHub 仓库**
   - 进入 [netlify.com](https://netlify.com)
   - 选择 "Import an existing project"
   - 连接 GitHub 仓库

2. **配置构建**
   - Build command: `npm run build`
   - Publish directory: `dist`

3. **自动部署**
   - 每次 push 到 main 分支自动部署

4. **访问**
   ```
   https://showhub.netlify.app
   ```

---

## 方案四：云服务器部署（阿里云/腾讯云/华为云）

### 使用 Nginx 部署（以 Ubuntu 为例）

1. **连接服务器**
   ```bash
   ssh root@your-server-ip
   ```

2. **安装 Nginx**
   ```bash
   sudo apt update
   sudo apt install nginx
   ```

3. **上传文件**
   ```bash
   scp -r dist/* root@your-server-ip:/var/www/html/
   ```

4. **配置 Nginx**
   ```bash
   sudo nano /etc/nginx/sites-available/default
   ```
   
   添加以下配置：
   ```nginx
   server {
       listen 80;
       server_name your-domain.com www.your-domain.com;
       
       root /var/www/html;
       index index.html;
       
       location / {
           try_files $uri $uri/ /index.html;
       }
       
       location /assets {
           expires 1y;
           add_header Cache-Control "public, immutable";
       }
       
       gzip on;
       gzip_types text/css application/javascript application/json;
   }
   ```

5. **重启 Nginx**
   ```bash
   sudo systemctl restart nginx
   ```

6. **配置 HTTPS（使用 Let's Encrypt）**
   ```bash
   sudo apt install certbot python3-certbot-nginx
   sudo certbot --nginx -d your-domain.com
   ```

---

## 方案五：Docker 容器化部署

### 创建 Dockerfile

```dockerfile
# 构建阶段
FROM node:18-alpine as builder
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
RUN npm run build

# 运行阶段
FROM nginx:alpine
COPY --from=builder /app/dist /usr/share/nginx/html
COPY nginx.conf /etc/nginx/conf.d/default.conf
EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]
```

### nginx.conf

```nginx
server {
    listen 80;
    server_name _;
    root /usr/share/nginx/html;
    index index.html;
    
    location / {
        try_files $uri $uri/ /index.html;
    }
    
    location /assets {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
}
```

### 部署

```bash
# 构建镜像
docker build -t showhub:latest .

# 运行容器
docker run -d -p 80:80 showhub:latest

# 或推送到 Docker Hub
docker tag showhub:latest your-username/showhub:latest
docker push your-username/showhub:latest
```

---

## 方案六：腾讯云 CloudBase（推荐，一键部署）

1. 进入 [CloudBase 控制台](https://console.cloud.tencent.com/tcb)
2. 创建新应用
3. 选择"静态网站托管"
4. 上传 `dist` 文件夹
5. 获得自动分配的域名或绑定自定义域名

---

## 推荐方案对比

| 方案 | 成本 | 易用度 | CDN | 自定义域名 | 推荐度 |
|-----|------|--------|-----|----------|--------|
| GitHub Pages | 免费 | ⭐⭐⭐ | ⭐⭐ | ✓ | ⭐⭐⭐ |
| Vercel | 免费 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ✓ | ⭐⭐⭐⭐⭐ |
| Netlify | 免费 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ✓ | ⭐⭐⭐⭐⭐ |
| 云服务器 | 按量 | ⭐⭐ | ❌ | ✓ | ⭐⭐⭐ |
| Docker | 按量 | ⭐⭐⭐ | ❌ | ✓ | ⭐⭐⭐ |
| CloudBase | 按量 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ✓ | ⭐⭐⭐⭐ |

---

## 快速部署到 Vercel（推荐）

```bash
# 1. 全局安装 Vercel CLI
npm install -g vercel

# 2. 部署
vercel

# 3. 按照提示选择：
# - Project name: ShowHub
# - Build command: npm run build
# - Output directory: dist
```

部署完成后会获得一个 URL，可以立即访问！

---

## 常见问题

### Q: 如何绑定自定义域名？
A: 在 Vercel/Netlify 的项目设置中，添加 Domain，然后在域名服务商修改 DNS 记录指向即可。

### Q: 如何配置 HTTPS？
A: Vercel/Netlify 自动配置，云服务器可使用 Let's Encrypt 免费证书。

### Q: 如何加速国内访问？
A: 使用 CDN（阿里云 CDN、腾讯云 CDN）或选择国内 DNS 服务商。

### Q: 构建失败怎么办？
A: 检查 `npm run build` 在本地是否成功，确保 Node 版本 ≥ 14。

---

## 下一步

选择上述任意方案，即可部署到互联网。推荐使用 **Vercel** 或 **Netlify** 获得最佳体验。
